(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{rmP1:function(t,e,s){"use strict";s.r(e);var a=s("fuM5"),r=s("stGK"),i=s("a1gY"),n=s.n(i),d={name:"customerDashboard",mixins:[s("ZNft").a],components:{productComponent:function(){return s.e(0).then(s.bind(null,"sdT4"))},addressPagination:function(){return s.e(1).then(s.bind(null,"MKMn"))}},data:function(){return{addressInput:{id:"",first_name:"",last_name:"",city:"",address:"",address2:"",phone:"",fax:"",zip:"",country_id:"",state_id:"",location:"",set_default:"shipping",state_text:""},loadState:"list",addressLoader:null,country_id:"",addressForm:!1,deletemodal:!1,deleteId:null,stateFieldStatus:"id"}},beforeCreate:function(){this.$store&&this.$store.state&&this.$store.state.defaultStore||this.$store.registerModule("defaultStore",r.a),this.$store&&this.$store.state&&this.$store.state.customerStore||this.$store.registerModule("customerStore",a.a)},mounted:function(){this.pagePreloads(),this.formErrors={}},watch:{loading:function(t){if(!1===t)$("#addressPreload").fadeOut("slow"),$("#addressFormPreload").fadeOut("slow");else switch(this.loadState){case"list":$("#addressPreload").fadeIn();break;case"form":$("#addressFormPreload").fadeIn()}this.addressLoader&&!1===t&&(this.addressLoader.hide(),this.addressLoader=null)}},computed:{loading:function(){return this.$store.getters["customerStore/getLoading"]},formErrors:{get:function(){return this.$store.getters["customerStore/getFormErrors"]},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$store.commit("customerStore/setFormErrors",t)}},addresses:function(){return this.$store.getters["customerStore/getAddresses"]},addressesPaginate:function(){return this.$store.getters["customerStore/getAddressesPaginate"]},countries:function(){return this.$store.getters["defaultStore/getCountries"]},states:function(){return this.$store.getters["defaultStore/getStates"]},computedStates:function(){var t=this.addressInput.country_id,e=this.states,s=[];return t&&(s=e.filter((function(e){return e.country_id==t}))),s}},methods:{pagePreloads:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loadState="list",this.$store.dispatch("customerStore/addresses",t),this.$store.dispatch("defaultStore/states"),this.$store.dispatch("defaultStore/countries")},buyerLogout:function(){this.$Progress.start()},deleteModalClose:function(){this.deletemodal=!1,$("body").css("padding-right","0px"),$(".header_area").css("margin-right","0px"),$("body").removeClass("model_open"),$(".wcmodel").removeClass("open_modal")},deleteAddresses:function(t){this.deletemodal=!0,this.deleteId=t,this.loadState="list"},addressDeleteConfirm:function(){var t=this,e={address_id:this.deleteId};this.$store.dispatch("customerStore/deleteAddresses",e).then((function(){return t.deletemodal=!1}))},showAddressModal:function(){this.stateFieldStatus="id",this.addressForm=!0;var t=$("#myDiv").offset().top;$("body, html").animate({scrollTop:t})},closeAddressModal:function(){this.addressForm=!1;var t=$("#my_acc_container").offset().top;$("body, html").animate({scrollTop:t})},setDefaultAddress:function(t,e){var s=this;this.loadState="list";var a={address_id:t,set_default:e};this.$store.dispatch("customerStore/setDefaultAddress",a).then((function(t){s.addressForm=!1}))},setAddress:function(t){"1"===t.country_id||"2"===t.country_id?this.stateFieldStatus="id":this.stateFieldStatus="text",this.loadState="form",this.formErrors={},this.$set(this,"addressInput",t),this.addressForm=!0;var e=$("#myDiv").offset().top;$("body, html").animate({scrollTop:e})},resetInput:function(){this.$set(this,"addressInput",{id:"",first_name:"",last_name:"",city:"",address:"",address2:"",phone:"",fax:"",zip:"",country_id:"",state_id:"",location:"",set_default:""})},addOrUpdateAddress:function(){var t=this;if(this.loadState="form",this.validateAddress()){this.addressLoader=this.inlineLoader({container:this.$refs.addressButton}),""!=this.addressInput.id?this.$store.dispatch("customerStore/updateAddress",this.addressInput).then((function(e){t.addressForm=!1})):this.$store.dispatch("customerStore/newAddress",this.addressInput).then((function(e){t.addressForm=!1})),this.resetInput();var e=$("#my_acc_container").offset().top;$("body, html").animate({scrollTop:e})}},countryChange:function(t){if(t.target.options.selectedIndex>-1){var e=t.target.options[t.target.options.selectedIndex].dataset;this.addressInput.location=e.code}1===this.addressInput.country_id||2===this.addressInput.country_id?this.stateFieldStatus="id":this.stateFieldStatus="text"},validateAddress:function(){var t=!0;if("id"===this.stateFieldStatus){var e=n()(this.addressInput,{state_id:{presence:{allowEmpty:!1,message:"^ Field is required."}}});e&&(this.formErrors=e,t=!1)}if("text"===this.stateFieldStatus){var s=n()(this.addressInput,{state_text:{presence:{allowEmpty:!1,message:"^ Field is required."}}});s&&(this.formErrors=s,t=!1)}var a=n()(this.addressInput,{first_name:{presence:{allowEmpty:!1,message:"^ Field is required."}},address:{presence:{allowEmpty:!1,message:"^ Field is required."}},set_default:{presence:{allowEmpty:!1,message:"^ Field is required."}},city:{presence:{allowEmpty:!1,message:"^ Field is required."}},phone:{presence:{allowEmpty:!1,message:"^ Field is required."}},zip:{presence:{allowEmpty:!1,message:"^ Field is required."}},location:{presence:{allowEmpty:!1,message:"^ Field is required."}},country_id:{presence:{allowEmpty:!1,message:"^ Field is required."}}});return a&&(this.formErrors=a,t=!1),t}}},o=s("KHd+"),l=Object(o.a)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"my_account_dashboard"},[t._m(0),t._v(" "),s("div",{staticClass:"my_acc_container",attrs:{id:"my_acc_container"}},[s("div",{staticClass:"account_info account_info_vertical"},[s("h2",{staticClass:"my_acc_subtitle"},[s("span",{staticClass:" mr_15"},[t._v("MY ADDRESSES ")]),t._v(" "),s("button",{staticClass:"btn_grey add_new_address width_full ",on:{click:function(e){return e.preventDefault(),t.showAddressModal()}}},[s("span",[t._v(" Add New Address ")])])]),t._v(" "),1==t.loading&&"list"==t.loadState?s("ul",{staticClass:"acc_address"},[t._m(1)]):s("ul",{staticClass:"acc_address"},t._l(t.addresses,(function(e,a){return s("li",{key:"address_"+a},[s("span",[t._v("ADDRESS #"+t._s(a+1)+"\n                            "),s("div",{staticClass:"text-danger"},[e.set_default&&e.set_default.includes("billing")?[t._v("(Default Billing Address)")]:t._e(),t._v(" "),e.set_default&&e.set_default.includes("shipping")?[t._v("(Default Shipping Address)")]:t._e()],2),t._v(" "),s("div",[e.set_default&&e.set_default.includes("billing")?t._e():s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){return s.preventDefault(),t.setDefaultAddress(e.id,"billing")}}},[t._v("Set Billing |")]),t._v(" "),e.set_default&&e.set_default.includes("shipping")?t._e():s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){return s.preventDefault(),t.setDefaultAddress(e.id,"shipping")}}},[t._v("Set Shipping | ")]),t._v(" "),s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){return s.preventDefault(),t.setAddress(e,"shipping")}}},[t._v("Edit")]),t._v(" |\n                            "),s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){return s.preventDefault(),t.deleteAddresses(e.id)}}},[t._v("Delete")])])]),t._v(" "),s("address",[e.first_name||e.last_name?[t._v(t._s(e.first_name)+" "+t._s(e.last_name)),s("br")]:t._e(),t._v(" "),e.city?[t._v(t._s(e.city)+" "),s("br")]:t._e(),t._v(" "),e.address?[t._v(t._s(e.address)+" "),s("br")]:t._e(),t._v(" "),e.address2?[t._v(t._s(e.address2)+" "),s("br")]:t._e(),t._v(" "),e.state||e.zip?[t._v(t._s(e.state?e.state.name:"")+" - "+t._s(e.zip)+" "),s("br")]:t._e(),t._v(" "),e.country?[t._v(t._s(e.country?e.country.name:"")+" "),s("br")]:t._e(),t._v(" "),e.phone?[t._v("Phone: "+t._s(e.phone)+"  ")]:t._e(),t._v(" "),e.fax?[t._v("FAX: "+t._s(e.fax))]:t._e()],2)])})),0)])]),t._v(" "),s("div",{staticClass:"my_acc_container",attrs:{id:"myDiv"}},[t.addressForm?[s("div",{staticClass:"account_info",staticStyle:{position:"relative","min-height":"100px"}},[1==t.loading&&"form"==t.loadState?s("div",{staticClass:"preloader_wrap",attrs:{id:"addressFormPreload"}},[t._m(2)]):t._e(),t._v(" "),s("div",{staticClass:"account_info_left"},[s("h2",{staticClass:"my_acc_subtitle"},[t._v("CONTACT INFORMATION")]),t._v(" "),s("div",{staticClass:"mb_20"},[s("div",{staticClass:"custom_radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.addressInput.set_default,expression:"addressInput.set_default"}],attrs:{type:"radio",id:"shipping",name:"type",value:"shipping"},domProps:{checked:t._q(t.addressInput.set_default,"shipping")},on:{change:function(e){return t.$set(t.addressInput,"set_default","shipping")}}}),t._v(" "),s("label",{attrs:{for:"shipping"}},[t._v("Use for shipping")])]),t._v(" "),s("div",{staticClass:"custom_radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.addressInput.set_default,expression:"addressInput.set_default"}],attrs:{type:"radio",id:"billing",name:"type",value:"billing"},domProps:{checked:t._q(t.addressInput.set_default,"billing")},on:{change:function(e){return t.$set(t.addressInput,"set_default","billing")}}}),t._v(" "),s("label",{attrs:{for:"billing"}},[t._v("Use for Billing")])]),t._v(" "),t._l(t.formErrors.set_default,(function(e,a){return s("small",{key:"error_name_"+a,staticStyle:{color:"red"}},[0==a?s("span",[t._v(t._s(e))]):t._e()])}))],2),t._v(" "),s("div",{staticClass:"form_inline_border form_inline"},[s("label",{staticClass:"required",attrs:{for:"input_id_first_name"}},[t._v("First Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.addressInput.first_name,expression:"addressInput.first_name"}],staticClass:"form-control",attrs:{type:"text",id:"input_id_first_name",placeholder:"First Name"},domProps:{value:t.addressInput.first_name},on:{input:function(e){e.target.composing||t.$set(t.addressInput,"first_name",e.target.value)}}}),t._v(" "),t._l(t.formErrors.first_name,(function(e,a){return s("small",{key:"error_name_"+a},[0==a?s("span",[t._v(t._s(e))]):t._e()])}))],2),t._v(" "),s("div",{staticClass:"form_inline_border form_inline"},[s("label",{attrs:{for:"input_id_last_name"}},[t._v("Last Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.addressInput.last_name,expression:"addressInput.last_name"}],staticClass:"form-control",attrs:{type:"text",id:"input_id_last_name",placeholder:"Last Name"},domProps:{value:t.addressInput.last_name},on:{input:function(e){e.target.composing||t.$set(t.addressInput,"last_name",e.target.value)}}}),t._v(" "),t._l(t.formErrors.last_name,(function(e,a){return s("small",{key:"error_name_"+a},[0==a?s("span",[t._v(t._s(e))]):t._e()])}))],2),t._v(" "),s("div",{staticClass:"form_inline_border form_inline"},[s("label",{staticClass:"required",attrs:{for:"input_id_phone"}},[t._v("Telephone")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.addressInput.phone,expression:"addressInput.phone"}],staticClass:"form-control",attrs:{type:"number",placeholder:"",id:"input_id_phone",placeholder:"Phone"},domProps:{value:t.addressInput.phone},on:{input:function(e){e.target.composing||t.$set(t.addressInput,"phone",e.target.value)}}}),t._v(" "),t._l(t.formErrors.phone,(function(e,a){return s("small",{key:"error_name_"+a},[0==a?s("span",[t._v(t._s(e))]):t._e()])}))],2),t._v(" "),s("div",{staticClass:"form_inline_border form_inline"},[s("label",{attrs:{for:"input_id_fax"}},[t._v("Fax")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.addressInput.fax,expression:"addressInput.fax"}],staticClass:"form-control",attrs:{type:"text",placeholder:"",id:"input_id_fax",placeholder:"Fax"},domProps:{value:t.addressInput.fax},on:{input:function(e){e.target.composing||t.$set(t.addressInput,"fax",e.target.value)}}}),t._v(" "),t._l(t.formErrors.fax,(function(e,a){return s("small",{key:"error_name_"+a},[0==a?s("span",[t._v(t._s(e))]):t._e()])}))],2),t._v(" "),s("div",{staticClass:"form_inline_border form_inline"},[s("label",{staticClass:"required",attrs:{for:"input_id_zip"}},[t._v("Zip")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.addressInput.zip,expression:"addressInput.zip"}],staticClass:"form-control",attrs:{type:"number",placeholder:"",id:"input_id_zip",placeholder:"Zip"},domProps:{value:t.addressInput.zip},on:{input:function(e){e.target.composing||t.$set(t.addressInput,"zip",e.target.value)}}}),t._v(" "),t._l(t.formErrors.zip,(function(e,a){return s("small",{key:"error_name_"+a},[0==a?s("span",[t._v(t._s(e))]):t._e()])}))],2)]),t._v(" "),s("div",{staticClass:"account_info_right"},[s("h2",{staticClass:"my_acc_subtitle"},[t._v("ADDRESS")]),t._v(" "),s("div",{staticClass:"form_inline_border form_inline"},[s("label",{staticClass:"required",attrs:{for:"input_id_address"}},[t._v("Street Address Line 1")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.addressInput.address,expression:"addressInput.address"}],staticClass:"form-control",attrs:{type:"text",placeholder:"",id:"input_id_address",placeholder:"Address"},domProps:{value:t.addressInput.address},on:{input:function(e){e.target.composing||t.$set(t.addressInput,"address",e.target.value)}}}),t._v(" "),t._l(t.formErrors.address,(function(e,a){return s("small",{key:"error_name_"+a},[0==a?s("span",[t._v(t._s(e))]):t._e()])}))],2),t._v(" "),s("div",{staticClass:"form_inline_border form_inline"},[s("label",{attrs:{for:"input_id_location"}},[t._v("Street Location")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.addressInput.address2,expression:"addressInput.address2"}],staticClass:"form-control",attrs:{type:"text",placeholder:"",id:"input_id_location",placeholder:"Street Location"},domProps:{value:t.addressInput.address2},on:{input:function(e){e.target.composing||t.$set(t.addressInput,"address2",e.target.value)}}}),t._v(" "),t._l(t.formErrors.address2,(function(e,a){return s("small",{key:"error_name_"+a},[0==a?s("span",[t._v(t._s(e))]):t._e()])}))],2),t._v(" "),s("div",{staticClass:"form_inline_border form_inline"},[s("label",{staticClass:"required",attrs:{for:"input_id_city"}},[t._v("City")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.addressInput.city,expression:"addressInput.city"}],staticClass:"form-control",attrs:{type:"text",placeholder:"",id:"input_id_city",placeholder:"City"},domProps:{value:t.addressInput.city},on:{input:function(e){e.target.composing||t.$set(t.addressInput,"city",e.target.value)}}}),t._v(" "),t._l(t.formErrors.city,(function(e,a){return s("small",{key:"error_name_"+a},[0==a?s("span",[t._v(t._s(e))]):t._e()])}))],2),t._v(" "),s("div",{staticClass:"form_inline_border form_inline_border_select form_inline"},[s("label",{staticClass:"required",attrs:{for:"input_id_country_id"}},[t._v("Country")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.addressInput.country_id,expression:"addressInput.country_id"}],staticClass:"form-control",attrs:{id:"input_id_country_id"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.addressInput,"country_id",e.target.multiple?s:s[0])},t.countryChange]}},[s("option",{attrs:{value:""}},[t._v("Select Country")]),t._v(" "),t._l(t.countries,(function(e,a){return s("option",{key:"addressCountry_"+a,attrs:{"data-code":e.code},domProps:{value:e.id}},[t._v(t._s(e.name)+" ")])}))],2),t._v(" "),t._l(t.formErrors.country_id,(function(e,a){return s("small",{key:"error_name_"+a},[0==a?s("span",[t._v(t._s(e))]):t._e()])}))],2),t._v(" "),"id"===t.stateFieldStatus?s("div",{staticClass:"form_inline_border form_inline_border_select form_inline"},[s("label",{staticClass:"required",attrs:{for:"input_id_state_id"}},[t._v("State")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.addressInput.state_id,expression:"addressInput.state_id"}],staticClass:"form-control",attrs:{id:"input_id_state_id"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.addressInput,"state_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Select State")]),t._v(" "),t._l(t.computedStates,(function(e,a){return s("option",{key:"addressState_"+a,domProps:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])}))],2),t._v(" "),t._l(t.formErrors.state_id,(function(e,a){return s("small",{key:"error_name_"+a},[0==a?s("span",[t._v(t._s(e))]):t._e()])}))],2):t._e(),t._v(" "),"text"===t.stateFieldStatus?s("div",{staticClass:"form_inline_border form_inline"},[s("label",{staticClass:"required",attrs:{for:"state_text"}},[t._v("State")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.addressInput.state_text,expression:"addressInput.state_text"}],staticClass:"form-control",attrs:{type:"text",placeholder:"",id:"state_text",placeholder:"State"},domProps:{value:t.addressInput.state_text},on:{input:function(e){e.target.composing||t.$set(t.addressInput,"state_text",e.target.value)}}}),t._v(" "),t._l(t.formErrors.state_text,(function(e,a){return s("small",{key:"error_name_"+a},[0==a?s("span",[t._v(t._s(e))]):t._e()])}))],2):t._e(),t._v(" "),s("div",{staticClass:"account_info_left width_200p d_flex_inline"},[s("button",{staticClass:"btn_grey m_a_close_btn width_200p",on:{click:function(e){return e.preventDefault(),t.closeAddressModal()}}},[s("span",[t._v(" Close ")])])]),t._v(" "),s("button",{ref:"addressButton",staticClass:"btn_grey width_200p float-right",on:{click:function(e){return e.preventDefault(),t.addOrUpdateAddress()}}},[t.addressInput.id?s("span",[t._v(" Update ")]):s("span",[t._v(" Save ")])])])])]:t._e()],2)]),t._v(" "),s("div",{staticClass:"my_acc_container my_acc_back"},[s("router-link",{staticClass:"btn btn_transparent width_200p",attrs:{to:{name:"customer-dashboard"}}},[s("i",{staticClass:"fas fa-shopping-cart"}),t._v(" "),s("span",{staticClass:"ml_5"},[t._v("Back to Dashboard")])]),t._v(" "),s("button",{staticClass:"btn_transparent width_200p",on:{click:function(e){return e.preventDefault(),t.buyerLogout(e)}}},[t._v("Log Out")])],1),t._v(" "),s("div",{staticClass:"logout_mobile"},[s("button",{staticClass:"btn_transparent",on:{click:function(e){return e.preventDefault(),t.buyerLogout(e)}}},[t._v("logout")])]),t._v(" "),s("div",{staticClass:"wcmodel modal",class:{open_modal:t.deletemodal},attrs:{"data-modal":"wcm"}},[s("div",{staticClass:"modal_overlay",attrs:{"data-modal-close":"wcm"}}),t._v(" "),s("div",{staticClass:"welcome_modal_wrapper"},[s("div",{staticClass:"modal_inner modal_400p"},[s("span",{staticClass:"close_modal",attrs:{"data-modal-close":"wcm"},on:{click:t.deleteModalClose}}),t._v(" "),s("div",{staticClass:"p_20"},[s("div",{staticClass:"d_flex_center d_modal_inner"},[s("i",{staticClass:"fas fa-exclamation-triangle"}),t._v(" "),s("p",[t._v("Are you sure want to delete address ?")]),t._v(" "),s("div",{staticClass:"d_flex_end width_full"},[s("button",{staticClass:"btn mb_20 btn_common",on:{click:t.addressDeleteConfirm}},[t._v("Yes")]),t._v(" "),s("button",{staticClass:"btn  mb_20 btn_common btn_disabled ml_10",on:{click:t.addressDeleteConfirm}},[t._v("No")])])])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"m_a_dashboard_title my_acc_container"},[e("h2",[this._v("Customer Address")]),this._v(" "),e("p",[this._v("Please fill the form below and press Save.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticStyle:{position:"relative","min-height":"100px"},attrs:{id:"addressPreload"}},[e("div",{staticClass:"preloader_wrap"},[e("div",{staticClass:"loader-container"},[e("div",{staticClass:"loader-circle"})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader-container"},[e("div",{staticClass:"loader-circle"})])}],!1,null,null,null);e.default=l.exports}}]);